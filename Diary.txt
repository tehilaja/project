Project Diary
Tehila Jacobs and Avital Spector
Magdilim

30/3/2019 
meeting with client who disccused his idea of this project

05/05/2019-12/06/2019
working on researching different option for languages of development. working on porposal form for project.

25/05/2019, 10/06/2019
Meeting with Eli Issac to disscuss our research on different development options.

12/06/2019
meeting with Eli Issac to go over the proposal form

/*************learning react**************/

Oct 30, 2019 
first and very basic react app

Oct 31, 2019
getting to know react components. creating cards etc...
added card for each organization in home page. getting info for components from external sourse. at this point it is just a file of objects.
in the future those opjects will be on an API.

Nov 5, 2019
changing functions to class conponents and using state components.

Nov 12, 2019
changing state, Login and Signup pages for individual donor

Nov 14, 2019
using router to change pages displayed on screen. /**problem passing info between the pages**/
Changing orgCard to class as well to inable changing state.

Nov 15, 2019
clicking on individual card (the pic of organization) opens the page for that specific organization
creating space for the user to donate.
info typed in to user form and login form actually change state (to be stored in API)

Nov 17, 2019
connecting code written by Tehila and Avital, wroking a little on presentation (css) and making sure all is clear to the other one on the team.
Adding minimum for monthy donation -  info in the state of that specific organization

Nov 18, 2019
Adding page to add organization. 
updating data.
reresearching server and db.

/***********************MYSQL***********************/

Nov 20, 2019
working on tables for sql
trying to find appropriate MySql Hosts.
creating mySql db (soon to learn it was not correct)


/***********************Server***********************/
Nov 21, 2019
building connection mySqlDB 
drawing (fixing) tables for DataBase
building server and connecting it to mySql
attempting to connect to client - complicated errors...

Nov 22, 2019
working on connection between Server and client

Nov 24, 2019
Alpha, sending it to Eli to look at what was already done

Nov 25, 2019
Alpha, researching payment methods online (such as tranzila)
sequence diagram for project
writing writing testing program for project

********************not in Wiki****************************

Nov 26, 2019
Working on alpha

Nov 27, 2019
installing Postman to work on connection between server and client
finding bug. 
writing a few http request - including inserting data about user into user table in db

JAV 16 ,2020
ישבנו בייחד לסכם הכל עד עכשיו, לראות שהכל רץ על שני המחשבים
סיכום והחלטה מה להתקדם

JA 17, 2020
חזרה על הקוד והבנה של צד שרת ולקוח
הכנסת נתונים לDB 
תחילת עבודה עם תרומות - שמירתם בDB וגישה ראשונית לשרת

JAN 18, 2020
סקירה ל משתמשים על דרכי שיפור
תיקון באגים בקריאה לשרת (שינוי לend( 
המך עבודה על בקשות http תרומה
JAN 19, 2020
שמירה ששל משתמש בכניסה למשתנה גלובי שדרכו ניתן לגשת תמיד לאילתות
סיום תרומה- שמירה דרך מי התרמנו (הוספה לשאילתה ומציאת קוד לפי שם משתמש)

Jan 22, 2020
sign in from all different pages. passing state to different components

Jan 23, 2020
continued working on code and on Alpha document - use case diagram

Jan 24th, 2020
Using one login in Server and using it from all different pages. Synchronization problems.
using flags to get over the problems that accured.

Jan 25th, 2020
Server getting the information on the main home page from the DataBase instead of file.
working on the video for Alpha. 

Jan 26th, 2020
adding features to code, organizing everthing to give in for Alpha.
recording the Prototype.

/************************Server*********************/
18/4/2020 
22:15 - 00:15 
reorganizing code comparing 
google cloud / aws - creating account
fixing a few bugs in server that appeared as a result of fixing the DB
making plans for the next day

19/4/2020 
11:00-12:00 
planning how to continue with project over next fiew days

20/04/2020
12:15 -12:45 
zoom meeting with Eli Issac, 
reflecting in on Alpha
13:30 -  15:45 starting integration with cognito.
creating cognito account and integrating code for login and signin

21/4/2020 
13:00 - 16:00 
finish setting up cognito account
working on configuration
trying to figure out what the errors are with signing up a new user
17:00 - 21:00 
using semantic-ui library and working on design

22/4/2020 
13:30-16:00
still working to set up cognito - didn't work 

25/4/2020 
21:25 - 1:30 
setting up cognito
checking if typescript can be used in react

26/4/2020 
working on user profile page
react-avatar showing initials of user, finding different react tree option

27/04/2020
working on cognito
trying to find carouselversion that will work on react cards...

28/04/2020
פונקציונליות תרומה - מעבר בין השלבים + שינויים בדף הגוף
organizing components and code
creating user page
creating page for new organization
routing between the different pages

29/04/2020
המשך עבוה על דף התרומה
13:30
carousel
display tree of donators
display a gallery

30/04/2020
looking into software to deal with credit card transactions
Stripe: *work in israel?*
BlueSnap: *is it secure? cheep?*
Square: *work in israel?*
Tranzila:
making plans for code:
**fix header not supported by the mobile display option**

1/5/2020 
9:00 - 16:30
trying to deal with errors in connecting server to get current user
dealing with header components throwing error not able to get state
creating page for organization and for prizes - routing the pages.

2/5/2020 21:30 - 2:00
working on setting up redux to manage users state

3/5/2020 (2.5)
finishing getting user attributes for logged in user from cognito

4/5/2020
10:45 - 15:00
17:00 - 19:00
20:00 - 21:00
Setting up PayPal for project
sending emails to tranzila and other options for payment

5/5/2020 
connecting state to input of different files
creating events
learning about redux
calling back different online payment companies to hear what our options are

6/5/2020
14:30 - 18:00 (3.5)
Merging branches in git
Working on state
integrating project with PayPal

7/5/2020 (16:15-18:00)
working on OrgCards for user, 
dividing the state into functions for further server functions in future.
learning about mobx to deal with state - instead of redux that doesn't seem to be working out.

8/5/2020
displaying the OrgCards components in the user page
testing out the donation page

9/5/2020
21:30 - 00:00
setting up S3 in aws to upload images and create url

10/5/2020
security problem when uploading code to git - need to change aws access key
fixing issue with S3 from last night - aws account
trying to figure out what the bug is in the S3 JS code
filling in Diary
figuring out why the files upoaded can only be downloaded and not viewed by url

11/5/2020
still working on same bug from S3 - uploaded images are encrypted and therfore can't be desplayed

12/5/2020
figuring out upload of image to S3 and returning url for image and encrypted file
working on rendering state with info to different components
when uploading to git- encountering an issue with the security of the aws access key
this time we used aes to encrypt the access key - that was successful 

13/5/2020
changing code so that App is father of all components and enabling the passing of the state
to all different pages of the website
bug with passign id for specific org page - fixed

14/5/2020
Making changes based on users:
enabling Admin of organization to send fliers to emails of all Donors via magdilim email address when adding a prize or raffle to organization.
adding option to have state of user be based on sum of money in downline or num of people in downline.
chaning layout of home page based on the request of user
writing beta document

15/5/2020
working a litle more with the aes

24/05/2020
Fixed bug following version merge
Getting started on changing the tables in a database
figure out how to create a function that runs every 24 hrs in javaScript
(using node schedule package: npm install node-schedule)

25/05/2020
organize db + create a first insert
change the query of gifts
dealing with errors when signing in - not crashing the server
going over db tables and making changes
coming up with plan for updating status of users - tree vs updating db

26/05/2020
looking through different options:
******************
How to deal with storing the data, and updating the level - to many times to access the db
building a tree - doing that each time wouldn't be very efficient - building a tree every time there is a request
 
solution:
using a cache: - the tree is already ready - no need to create these calls every time - saving reads
for safety - we will update cash every 24 hours

only have to claculate it once
creating a cache would be a dictionary of dictionaries 
needs to be singltone - static 
how do we do that in javaScript?
hold the instance in the server and it's functions somewhere else?

collection of Org
each org has a tree
for each donor (in a dictionary) would have a refference to the correct node
**********************
has an update command - to update an organization / update a donor and his ansestors

31/05/2020 - 9/06/2020
writing code for functionality of cache
building dictionaries
writing recursive functionality to get users level in organization etc

14/6/2020
in user page, displaying the levels and the number of people in downline
when the organization was clicked - displaying the downline of the user in that organization
gets the reference to the user node in the tree of that organization that is in the cache
needed to change the structure of the chache to enable just sending the reference and displaying it quickly

15/6/2020
changing the structure of the cache so that it can be displayed on the user page just by sending the reference

16/6/2020
building Admin pages for the admin of the program to be able to accept a new organization
building pages to store which organizations have to be paid

17/6/2020
building pages for Admin of organization to edit his organization page
adding functionality to have buttons on the userpage that allow him to 
edit the organizations that he is admin of

18/6/2020
guarding Admin pages
guarding pages to edit org pages
guarding userPage should only be desplayed when user is logged in 
edge cases for registeration
looking into different options for deployment

19/6/2020
adding components for feed

20/6/2020
Adding comment to feed
sending email when new organization was requested, and adding the correnct fields to the page to Edit org Page

21/6/2020
Adding pages for Admin of organization - approving organizations

22/6/2020
Adding pages for Admin of organization - approving organizations
sending email to organization upon approval
button to approve all requests
button to dissaprove a request

23/6/2020
Adding page for admin to take care of payments for organizations
bug on displaying the edit org page on the user page -
need two seperate requests in server, one for admin of org to edit his page,
and a seperate one for the admin of the program to get to his pages.

24/6/2020
Adding page for admin to take care of payments for organizations
adding needed tables to DB

25/6/2020
Adding page for admin to take care of payments for organizations
Working on inserting the new Feed comment to the DB
working on the דוח סופי 

26/6/2020
Adding page for admin to take care of payments for organizations
only app containing Header and Footer components
sending activePage to header - problem when trying to send in state - created an infinate loop
(in render tried setting state based on the path caused an endless loop, since changing state triggers render)
working on donation

28/6/2020
editing organization details
updating feed every five seconds - to get othere users comments
adding carousel to the components on home page
having page scroll to the desired place on screen

